<!DOCTYPE html>
<html>
<head>
    <title>Landing Page</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="./public/vendors/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="./public/css/font.css">
    <link rel="stylesheet" type="text/css" href="./public/css/index.css">
    <!--<link rel="stylesheet" type="text/css" href="./public/css/kh-chat.css">-->
    <link rel="stylesheet" href="./public/vendors/font-awesome-4.7.0/css/font-awesome.min.css">
</head>
<body>
<div class="header">
    <div id="menu-icon" class="mi-container" onclick="toggleMenuIcon(this)">
        <div class="bar1"></div>
        <div class="bar2"></div>
        <div class="bar3"></div>
    </div>
    <div class="title">
        <span style="color: white;">KH CHAT</span>
    </div>
    <a onclick="document.getElementById('id01').style.display='block'">
        <div class="profile"></div>
    </a>
</div>
<div class="sidebar">
    <ul class="side-class">
        <li class="user-chat" onclick="viewuser()">
            <div class="user-profile" style="border: 0px">
                <div class="photo-user"></div>
            </div>
            <div class="user-name">
                <span class="font-name" style="color: white;">SE kimsour</span><br>
                <span class="font-de" style="color: #616161">ITC</span>
            </div>
            <div class="signal">
                <div class="show-signal"></div>
            </div>
        </li>
    </ul>
</div>
<div class="blocker"></div>
<div class="body">
    <div class="content">
        <div class="follow-sidebar"></div>
        <div class="main">
            <div class="main-content">
                <div class="main-chat">

                </div>

                <div class="write-message">
                    <div class="write">
                        <textarea class="write-text"></textarea>
                    </div>
                    <div class="send-message">
                        <div class="line"></div>
                        <div class="icon-send">
                            <img class="send" src="public/img/send.png">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- The Modal -->
    <div id="id01" class="modal">
        <form class="modal-content animate" action="#">
            <div style="width: 100%; height: 30px">
                <span onclick="document.getElementById('id01').style.display='none'" class="close" title="Close Modal" style="margin-right: 10px; margin-top: 5px; font-size: 30px">&times;</span>
            </div>
            <!-- Modal Content -->
            <div class="view-profile">
                <div class="photo"></div>
                <div class="name-show">
                    <div class="name1">
                        <span class="font-name-show" style="color: #0098fd">TANG Sokkang</span><br>
                    </div>
                </div>
                <div class="description">
                    <span class="font-description" style="color: #95989a"> I am Hacker</span>
                </div>
                <div class="div-btn">
                    <div style="float: left;">
                        <button type="button" class="btn btn-default btn-width-left font-btn">Log Out</button>
                    </div>
                    <div style="float: right;">
                        <button type="button" class="btn btn-default btn-width-right font-btn">Leave Room</button>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <div id="id02" class="modal">
        <form class="modal-content animate" action="#">
            <div style="width: 100%; height: 30px">
                <span onclick="document.getElementById('id02').style.display='none'" class="close" title="Close Modal" style="margin-right: 10px; margin-top: 5px; font-size: 30px">&times;</span>
            </div>
            <!-- Modal Content -->
            <div class="view-profile">
                <div class="photo"></div>
                <div class="name-show">
                    <div class="name1">
                        <span class="font-name-show" style="color: #0098fd">TANG Sokkang</span><br>
                    </div>
                </div>
                <div class="description">
                    <span class="font-description" style="color: #95989a"> I am Hacker</span>
                </div>
                <div class="div-btn">
                    <div style="width: 101px; margin: 0 auto">
                        <button type="button" class="btn btn-default" style="width: 100px;">Challenge</button>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>
</body>

<script src="./public/vendors/jquery/jquery-3.1.1.min.js"></script>
<script src="./public/vendors/bootstrap/js/bootstrap.min.js"></script>
<script>
    // Get the modal
    var modal = document.getElementById('id01');
    var modal1 = document.getElementById('id02');
    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function(event) {
        if (event.target == modal) {
            modal.style.display = "none";
        } else if (event.target == modal1) {
            modal1.style.display = "none";
        }
    }

    function viewuser() {
        document.getElementById('id02').style.display='block';
        if($(window).width()<1036) {
            menu.classList.toggle("change");
            hideSideBar();
            sidebar = false;
        }
    }
</script>


<script>
    var mq = window.matchMedia( "(min-width: 1036px)" );
    var sidebar = false;
    var menu;
    $(".blocker").click(function(){
        menu.classList.toggle("change");
        hideSideBar();
        sidebar = false;
    });
    function toggleMenuIcon(x) {
        menu = x;
        x.classList.toggle("change");
        if (sidebar) {
            hideSideBar();
            sidebar = false;
        } else {
            showSideBar();
            sidebar = true;
        }
    }
    function showSideBar() {
        $(".sidebar").animate({
            left: "0"
        }, 300);
        if($(window).width()>1035) {
            $(".follow-sidebar").css("width", "250px");
            $(".write-message").css("left", "calc(20vw + 200px)");
            $(".write-message").css("width", "calc(60vw - 100px)");
        }
        $(".blocker").css("height", "100vh");
    }
    function hideSideBar() {
        $(".sidebar").animate({
            left: "-300"
        }, 300);
        if($(window).width()>1035) {
            $(".follow-sidebar").css("width", "0px");
            $(".write-message").css("left", "20vw");
            $(".write-message").css("width", "60vw");
        }
        $(".blocker").css("height", "0vh");
    }


    mq.addListener(function(changed) {
        if(changed.matches) {
            // big screen
//            alert("big");
            if(sidebar) {
                $(".follow-sidebar").css("width", "250px");
                $(".write-message").css("left", "calc(20vw + 200px)");
                $(".write-message").css("width", "calc(60vw - 100px)");
            } else {
                $(".write-message").css("left", "20vw");
                $(".write-message").css("width", "60vw");
            }
        } else {
            // small screen
//            alert("small");
            $(".write-message").css("left", "5%");
            $(".write-message").css("width", "90%");
        }
    });
</script>

</html>